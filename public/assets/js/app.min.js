var RegisterPage=function(){var e={form:document.getElementById("form"),submit_btn:document.getElementById("submit_btn"),pass_field:document.getElementById("password"),pass_confirm_field:document.getElementById("confirm_password"),pass_strong_field:document.getElementById("pass_strong"),email_field:document.getElementById("email"),email_confirm_field:document.getElementById("confirm_email"),form_validation_status:!1},t=function(){a()},a=function(){e.form.addEventListener?e.submit_btn.addEventListener("click",r,!1):e.form.attachEvent&&e.submit_btn.attachEvent("click",r),e.form.addEventListener?(e.pass_field.addEventListener("keyup",s,!1),e.pass_field.addEventListener("blur",i,!1),e.pass_confirm_field.addEventListener("blur",i,!1)):e.form.attachEvent&&(e.pass_field.attachEvent("keyup",s),e.pass_field.addEventListener("blur",i,!1),e.pass_confirm_field.addEventListener("blur",i,!1)),e.form.addEventListener?(e.email_field.addEventListener("blur",i,!1),e.email_confirm_field.addEventListener("blur",i,!1)):e.form.attachEvent&&(e.email_field.attachEvent("blur",i),e.email_confirm_field.addEventListener("blur",i,!1))},r=function(){var t=!0;e.form_validation_status===!1&&(t=!1),m("confirm_email");var a=document.forms.form["user[email]"].value;if(null==a||""==a)t=!1,d("confirm_email","* Email obrigatório.");else{var r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;r.test(a)||(t=!1,d("password","* Email inválido."))}m("password");var s=document.forms.form["user[confirm_email]"].value;(null==s||""==s)&&(t=!1,d("password","* Confirma&ccedil;&atilde;o de email obrigatório.")),m("first_name");var i=document.forms.form["user[password]"].value,o=document.forms.form["user[confirm_password]"].value;null==i||""==i||null==o||""==o?(t=!1,d("first_name","* Campo obrigatório.")):i.length<6&&(t=!1,d("first_name","* Mínimo 6 caracteres.")),m("address");var l=document.forms.form["user[first_name]"].value,u=document.forms.form["user[last_name]"].value;null==l||""==l||null==u||""==u?(t=!1,d("address","* Campos obrigatórios.")):(l.length>20||u.length>20)&&(t=!1,d("address","* Máximo 20 caracteres por campo.")),m("zipcode");var u=document.forms.form["user[address]"].value;null!=u&&""!=u&&u.length>80&&(t=!1,d("zipcode","* Máximo 80 caracteres.")),m("country");var f=document.forms.form["user[zipcode]"].value;if(null!=f&&""!=f){var r=/^\d{4}(-\d{3})?$/;r.test(f)||(t=!1,d("country","* Formato C.Postal inválido."))}m("vat");var c=document.forms.form["user[vat]"].value;if(null!=c&&""!=c){var r=/^[0-9]{9}$/;r.test(c)||(t=!1,d("phone","* Formato inválido."))}m("submit_btn");var v=document.forms.form["user[phone]"].value;if(null!=v&&""!=v){var _=document.forms.form["user[country]"].value;if("PT"===_){var r=/^[0-9]{9}$/;r.test(v)||(t=!1,d("submit_btn","* N. Telefone inv&aacute;lido. M&aacute;ximo 9 digitos sem espa&ccedil;os."))}}return t!==!0?!1:void n()},n=function(){e.form.submit()},s=function(){var t=this.value,a=new Array;a[0]="Muito insegura",a[1]="Insegura",a[2]="Pouco segura",a[3]="Normal",a[4]="Segura",a[5]="Muito segura";var r=0;t.length>=6&&r++,t.match(/[a-z]/)&&t.match(/[A-Z]/)&&r++,t.match(/\d+/)&&r++,t.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)&&r++,t.length>=10&&r++,e.pass_strong_field.value=a[r],e.pass_strong_field.className="strength"+r,0==t.length&&(e.pass_strong_field.value="",e.pass_strong_field.className="form_span")},i=function(){var t,a,r,n=new String,s=new String;switch(this.id){case"email":t=o(this.id),a=o("confirm_email"),r="password";break;case"confirm_email":t=o(this.id),a=o("email"),r="password";break;case"password":t=o(this.id),a=o("confirm_password"),r="first_name";break;case"confirm_password":t=o(this.id),a=o("password"),r="first_name"}if(m(r),t.length&&a.length&&t!=a&&(t!=n||a!=s)){var i=document.getElementById(r).parentNode,d=document.createElement("div");return d.setAttribute("class","form_validation_msg"),d.innerHTML='<span class="'+r+'">* Dados não correspondem.</span>',i.insertBefore(d,i.firstChild),e.form_validation_status=!1,!1}return e.form_validation_status=!0,!0},o=function(e){return document.getElementById(e).value},m=function(e){for(var t=document.getElementsByClassName(e);t.length>0;)t[0].parentNode.removeChild(t[0])},d=function(e,t){var a=document.getElementById(e).parentNode,r=document.createElement("div");r.setAttribute("class","form_validation_msg"),r.innerHTML='<span class="confirm_email">'+t+"</span>",a.insertBefore(r,a.firstChild)};return{init:t}}();